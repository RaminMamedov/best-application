{"version":3,"file":"static/js/728.c47b59e6.chunk.js","mappings":"8KACA,QAA6B,+BAA7B,EAA8E,oCAA9E,EAAmI,mCAAnI,EAAqL,iCAArL,EAAgO,4BAAhO,EAAuQ,6BAAvQ,EAAoT,kC,+BCapT,MAwCA,EAxC6BA,KACzB,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,KAETC,EAASF,IAAOG,MAAMC,OAAOJ,IAAOK,SAASL,EAAI,IAAM,MAErDM,KAAMC,EAAMC,MAAOC,EAAWC,UAAWC,IAAgBC,EAAAA,EAAAA,IAAoBV,EAAkB,CACnGW,MAAOX,KAEHI,KAAMQ,EAAUN,MAAOO,EAAeL,UAAWM,IAAoBC,EAAAA,EAAAA,IAA4Bf,EAAkB,CACvHW,MAAOX,IAOX,OAJAgB,EAAAA,EAAAA,YAAU,KACNC,OAAOC,SAAS,EAAG,EAAE,GACtB,CAAClB,IAECA,EAIDS,GAAeK,GAAwBK,EAAAA,EAAAA,KAACC,EAAAA,EAAM,IAC9Cb,GAAaM,GACNM,EAAAA,EAAAA,KAACE,EAAAA,EAAY,CAACf,MAAOC,GAAaM,KAIzCS,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAaC,SAAA,EACzBN,EAAAA,EAAAA,KAAA,MAAII,UAAWC,EAAkBC,SAAM,OAAJpB,QAAI,IAAJA,OAAI,EAAJA,EAAMqB,SACzCP,EAAAA,EAAAA,KAAA,KAAGI,UAAWC,EAAiBC,SAAM,OAAJpB,QAAI,IAAJA,OAAI,EAAJA,EAAMsB,QACvCR,EAAAA,EAAAA,KAAA,MAAII,UAAWC,EAAeC,SAAC,aACtB,OAARb,QAAQ,IAARA,OAAQ,EAARA,EAAUgB,KAAKC,IACZP,EAAAA,EAAAA,MAAA,OAAsBC,UAAWC,EAAUC,SAAA,EACvCN,EAAAA,EAAAA,KAAA,KAAGI,UAAWC,EAAWC,UAACN,EAAAA,EAAAA,KAAA,UAAQI,UAAWC,EAAgBC,SAAEI,EAAQC,WACvEX,EAAAA,EAAAA,KAAA,KAAGI,UAAWC,EAAWC,SAAEI,EAAQF,SAF7BE,EAAQ/B,UAdnBqB,EAAAA,EAAAA,KAACY,EAAAA,GAAQ,CAACC,GAAG,KAmBd,C","sources":["webpack://best-application/./src/features/PostDetail/PostDetail.module.css?b631","features/PostDetail/PostDetail.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"postDetail\":\"PostDetail_postDetail__wl-li\",\"postDetailTitle\":\"PostDetail_postDetailTitle__L0AGm\",\"postDetailBody\":\"PostDetail_postDetailBody__y34wn\",\"postDetailH3\":\"PostDetail_postDetailH3__cMCl4\",\"comment\":\"PostDetail_comment__dr2dH\",\"commentP\":\"PostDetail_commentP__drCSm\",\"commentStrong\":\"PostDetail_commentStrong__NRkAt\"};","import React, {useEffect} from 'react';\r\nimport { useParams, Navigate } from 'react-router-dom';\r\nimport { useGetPostByIdQuery, useGetCommentsByPostIdQuery } from '../../baseApi/api';\r\nimport s from './PostDetail.module.css';\r\nimport ErrorMessage from \"../../components/ErrorMessage/ErrorMessage\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\n\r\ntype Comment = {\r\n    id: number;\r\n    body: string;\r\n    postId: number;\r\n    email: string;\r\n};\r\n\r\nconst PostDetail: React.FC = () => {\r\n    const { id } = useParams();\r\n\r\n    const postId = id && !isNaN(Number(id)) ? parseInt(id, 10) : null;\r\n\r\n    const { data: post, error: postError, isLoading: postLoading } = useGetPostByIdQuery(postId as number, {\r\n        skip: !postId,\r\n    });\r\n    const { data: comments, error: commentsError, isLoading: commentsLoading } = useGetCommentsByPostIdQuery(postId as number, {\r\n        skip: !postId,\r\n    });\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, [postId]);\r\n\r\n    if (!postId) {\r\n        return <Navigate to=\"/\" />;\r\n    }\r\n\r\n    if (postLoading || commentsLoading) return <Loader />;\r\n    if (postError || commentsError) {\r\n        return <ErrorMessage error={postError || commentsError} />;\r\n    }\r\n\r\n    return (\r\n        <div className={s.postDetail}>\r\n            <h2 className={s.postDetailTitle}>{post?.title}</h2>\r\n            <p className={s.postDetailBody}>{post?.body}</p>\r\n            <h3 className={s.postDetailH3}>Comments</h3>\r\n            {comments?.map((comment: Comment) => (\r\n                <div key={comment.id} className={s.comment}>\r\n                    <p className={s.commentP}><strong className={s.commentStrong}>{comment.email}</strong></p>\r\n                    <p className={s.commentP}>{comment.body}</p>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostDetail;\r\n"],"names":["PostDetail","id","useParams","postId","isNaN","Number","parseInt","data","post","error","postError","isLoading","postLoading","useGetPostByIdQuery","skip","comments","commentsError","commentsLoading","useGetCommentsByPostIdQuery","useEffect","window","scrollTo","_jsx","Loader","ErrorMessage","_jsxs","className","s","children","title","body","map","comment","email","Navigate","to"],"sourceRoot":""}